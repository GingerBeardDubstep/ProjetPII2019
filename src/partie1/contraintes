
ALTER TABLE AIRLINES
ADD CONSTRAINT AIRLINES_PK
PRIMARY KEY (AIRLINE_ID);

ALTER TABLE AIRPORTS
ADD CONSTRAINT AIRPORTS_PK
PRIMARY KEY (AIRPORT_ID);

ALTER TABLE LOCALISATION
ADD CONSTRAINT LOCALISATION_PK
PRIMARY KEY (LATITUDE, LONGITUDE);


ALTER TABLE ROUTES
ADD CONSTRAINT ROUTES_PK
PRIMARY KEY (AIRLINE,AIRPORT_DEP, AIRPORT_DEST);

ALTER TABLE FLIGHT_NUMBER
ADD CONSTRAINT FLIGHT_NUMBER_PK
PRIMARY KEY (ID);

ALTER TABLE FLIGHT_NUMBER_ROUTE
ADD CONSTRAINT FLIGHT_NUMBER_ROUTE_PK
PRIMARY KEY (ID, ARRETS);


ALTER TABLE EQUIPEMENT
ADD CONSTRAINT AQUIPEMENT_PK
PRIMARY KEY (AIRLINE, AIRPORT_DEP, AIRPORT_DEST);

ALTER TABLE PLANES
ADD CONSTRAINT PLANES_PK
PRIMARY KEY (NOM);


ALTER TABLE FLIGHT_NUMBER_ROUTE
ADD CONSTRAINT FK_FLIGHT_NUMBER
FOREIGN KEY (ID) REFERENCES FLIGHT_NUMBER(ID);

ALTER TABLE ROUTES
ADD CONSTRAINT FK_ROUTES_AIRLINEID
FOREIGN KEY (AIRLINEID) REFERENCES AIRLINES(AIRLINE_ID);


ALTER TABLE AIRPORTS
ADD CONSTRAINT FK_AIRPORTS_LATITUDE_LONGITUDE
FOREIGN KEY (LATITUDE, LONGITUDE) REFERENCES LOCALISATION(LATITUDE, LONGITUDE);


ALTER TABLE EQUIPEMENT
ADD CONSTRAINT EQUIPEMENT_FK
FOREIGN KEY (AIRLINE, AIRPORT_DEP, AIRPORT_DEST) REFERENCES ROUTES(AIRLINE, AIRPORT_DEP, AIRPORT_DEST);

ALTER TABLE LOCALISATION
ADD CONSTRAINT DST_CHECK
CHECK (DST IN ( 'E', 'A', 'S', 'O', 'Z', 'N', 'U'));


ALTER TABLE AIRPORTS
ADD CONSTRAINT TYPE_CHECK 
CHECK (type IN ( 'airport', 'station', 'port', 'unknown'));


ALTER TABLE AIRLINES
ADD CONSTRAINT ACTIVITE_CHECK 

CHECK (active IN ( 'Y', 'N', 'NULL'));



ALTER TABLE ROUTES
ADD CONSTRAINT CODE_CHECK 
CHECK (codeshare IN ( 'Y', 'NULL'));



ALTER TABLE PLANES
ADD CONSTRAINT IATA_UNIQUE UNIQUE(IATA);

ALTER TABLE PLANES
ADD CONSTRAINT ICAO_UNIQUE UNIQUE(ICAO);
